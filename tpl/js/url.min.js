"use strict";var self={};var array=/\[([^\[]*)\]$/;var get=self.get=function(b,r){b=b||"";if(typeof r=="undefined"){r={}}if(typeof r.full=="undefined"){r.full=false}if(typeof r.array=="undefined"){r.array=false}if(r.full===true){b=parse(b,{get:false})["query"]||""}var p={};var a=b.split("&");for(var m in a){if(!a[m].length){continue}var f=a[m].indexOf("=");var j=a[m],e=true;if(f>=0){j=a[m].substr(0,f);e=a[m].substr(f+1);e=decodeURIComponent(e)}if(r.array){var n=[];var g;var l=p;var h=j;while(g=h.match(array)){h=h.substr(0,g.index);n.unshift(decodeURIComponent(g[1]))}h=decodeURIComponent(h);if(n.some(function(c){if(typeof l[h]=="undefined"){l[h]=[]}if(!Array.isArray(l[h])){return true}l=l[h];if(c===""){c=l.length}h=c})){continue}l[h]=e;continue}j=decodeURIComponent(j);p[j]=e}return p};var allchars=/./g;var keyencode={"?":"%3F","&":"%26","[":"%5B","]":"%5D","=":"%3D"};var valencode={"?":"%3F","&":"%26"};function translatekey(a){return keyencode[a[0]]||a[0]}function translateval(a){return valencode[a[0]]||a[0]}function encodeKey(a){return encodeURI(a).replace(allchars,translatekey)}function encodeValue(a){return encodeURI(a).replace(allchars,translateval)}var buildget=self.buildget=function(a,e){var f=[];for(var d in a){var c=encodeKey(d);if(typeof e!="undefined"){c=e+"["+c+"]"}var b=a[d];switch(typeof b){case"boolean":f.push(c);break;case"number":b=b.toString();case"string":f.push(c+"="+encodeValue(b));break;case"object":f.push(self.buildget(b,c));break}}return f.join("&")};var scheme=[/^([a-z]*:)?(\/\/)?/,/([a-z]*):/,];var user=/^([^:@]*)(:[^@]*)?@/;var pass=/^:([^@]*)@/;var host=/^[0-9A-Za-z-._]+/;var port=/^:([0-9]*)/;var path=/^\/[^?#]*/;var query=/^\?([^#]*)/;var hash=/^#(.*)$/;var parse=self.parse=function(g,j){var a={};if(typeof j=="undefined"){j={}}a.url=g;do{var b=g.toLowerCase().match(scheme[0]);if(b===null){break}if(typeof b[1]!=="undefined"){var e=b[1].match(scheme[1]);a.scheme=e[1]}g=g.slice(b[0].length)}while(false);do{var f=g.match(user);if(f===null){break}a.user=decodeURIComponent(f[1]);g=g.slice(f[1].length);do{var c=g.match(pass);if(c===null){break}a.pass=decodeURIComponent(c[1]);g=g.slice(c[1].length+1)}while(false);g=g.slice(1)}while(false);do{var i=g.match(host);if(i===null){break}a.host=i[0];g=g.slice(i[0].length)}while(false);do{var c=g.match(port);if(c===null||c[1]===""){break}a.port=parseInt(c[1]);g=g.slice(c[0].length)}while(false);do{var c=g.match(path);if(c===null){break}a.path=decodeURIComponent(c[0]);g=g.slice(c[0].length)}while(false);do{var d=g.match(query);if(d===null){break}a.query=d[1];if(j.get!==false){a.get=get(a.query,j.get)}g=g.slice(d[0].length)}while(false);do{var i=g.match(hash);if(i===null){break}a.hash=decodeURIComponent(i[1])}while(false);return a};var noslash=["mailto","bitcoin"];var build=self.build=function(a){var b="";if(typeof a.scheme!="undefined"){b+=a.scheme;b+=(noslash.indexOf(a.scheme)>=0)?":":"://"}if(typeof a.user!="undefined"){b+=a.user;if(typeof a.pass=="undefined"){b+="@"}}if(typeof a.pass!="undefined"){b+=":"+a.pass+"@"}if(typeof a.host!="undefined"){b+=a.host}if(typeof a.port!="undefined"){b+=":"+a.port}if(typeof a.path!="undefined"){b+=a.path}if(typeof a.get!="undefined"){b+="?"+buildget(a.get)}else{if(typeof a.query!="undefined"){b+="?"+a.query}}if(typeof a.hash!="undefined"){b+="#"+a.hash}return b||a.url||""};if(typeof define!="undefined"&&define.amd){define(self)}else{if(typeof module!="undefined"){module.exports=self}else{window.url=self}};